<loader-spinner-full-screen *ngIf="loading"></loader-spinner-full-screen>
<loader-spinner-navbar [hidden]="!loadingNavBar"></loader-spinner-navbar>
<app-header appTitle="Cadastro de Nova Ação">
  <button 
    [disabled]="form.valid === false"
    (click)="postAcoes()"
    >
    Enviar
  </button>
</app-header>
<app-body [breadCrumbTree]="breadCrumbTree">
  <form [formGroup]="form" autocomplete="off" [hidden] = "loading">
    <fieldset  class="col-12">
      <fieldset class="border rounded shadow-sm col-6 pt-2 mx-auto">
        <legend>Dados da Ação</legend>
        <div class="form-row justify-content-center">
          <div class="form-group col pl-0">
            <label for="mensagens">Mensagem</label>
            <ng-select
              [searchable]="true"
              [clearable]="true"
              [items]="mensagens"
              [virtualScroll]="true"
              placeholder="Selecione..."
              [loading]="loadingMensagens"
              labelForId="TITULO"
              bindLabel="TITULO"
              bindValue="TITULO"
              id="TITULO"
              formControlName="TITULO">
            </ng-select>
            <invalid-form-control [show]="onFieldInvalid('TITULO')" message="Mensagem é obrigatório."></invalid-form-control>
          </div>
        </div>
        <!-- <div class="form-row justify-content-center">
          <div class="form-group col pl-0">
            <label for="contatos">Lista de Contatos</label>
            <ng-select
              [searchable]="true"
              [clearable]="true"
              [items]="contatos"
              [virtualScroll]="true"
              placeholder="Selecione..."
              [loading]="loadingContatos"
              labelForId="CONTATO"
              bindLabel="CONTATO"
              bindValue="CONTATO"
              id="CONTATO"
              formControlName="CONTATO">
            </ng-select>
            <invalid-form-control [show]="onFieldInvalid('CONTATO')" message="Lista de Contatos é obrigatório."></invalid-form-control>
          </div>
        </div> -->
      </fieldset>
      <br>
      <br>
      <fieldset class="border rounded shadow-sm col-6 pt-2 mx-auto">
            <legend>Observação</legend>
            <div class="form-row justify-content-center">
              <div class="form-group col">
                <label for="DS_OBSE" >Observação:</label>
                <textarea class="form-control" id="DS_OBSE" formControlName="DS_OBSE" rows="3"></textarea>
              </div>
            </div>
            <br>
      </fieldset>
    </fieldset>
  </form>
</app-body>