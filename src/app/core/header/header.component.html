<nav id="navbar" class="navbar fixed-top navbar-expand navbar-light">
  <img [src]="srcLogoCliente" (error)="onLogoClienteError($event)" id="logo-manetoni" height="20"
    *ngIf="showLogoCliente">
  <ul class="navbar-nav ml-auto">
    <li id="spinner" [hidden]="!showLoader">
      <div class="spinner-border"></div>
    </li>
    <li class="d-flex mr-2">
      <span class="my-auto version">Version 1.0.30</span>
    </li>
    <li class="d-flex mr-2">
      <img
        src="/assets/images/logo/logo-branco.png"
        height="22"
        class="my-auto"
      />
    </li>
    <li
      class="nav-item"
      placement="left"
      tooltip="Módulos"
      *ngIf="checkTipoAcessoUser()"
    >
      <div class="btn-group" dropdown>
        <button dropdownToggle type="button" class="nav-link">
          <i class="fas fa-th"></i>
        </button>
        <ul *dropdownMenu id="dropdown-modulos" class="dropdown-menu left">
          <div *ngIf="modulosLoaded && !modulosError">
            <li *ngFor="let modulo of modulos">
              <a
                class="dropdown-item"
                href="javascript:void(0)"
                (click)="onModulo(modulo)"
              >
                <i [class]="modulo.icone"></i>
                <span>{{ modulo.nome | uppercase }}</span>
              </a>
            </li>
          </div>
          <div *ngIf="modulosLoaded && modulosError">
            <li>
              <a class="dropdown-item hover" (click)="getModulos()">
                <i class="fas fa-redo-alt"></i>
                <span class="ml-3">Recarregar</span>
              </a>
            </li>
          </div>
          <div *ngIf="!modulosLoaded">
            <li>
              <a class="dropdown-item">
                <i class="fas fa-circle-notch fa-spin"></i>
                <span class="ml-3">Carregando módulos...</span>
              </a>
            </li>
          </div>
        </ul>
      </div>
    </li>

      <li class="nav-item" placement="bottom" tooltip="Reserva de Salas" *ngIf="checkTipoAcessoUser()" style="display: none;">
        <a class="nav-link" [routerLink]="['/home/reserva-salas']">
          <i class="fas fa-calendar-alt"></i>
        </a>
      </li>
      <li class="nav-item" placement="bottom" tooltip="Contatos" *ngIf="checkTipoAcessoUser()" style="display: none;">
        <a class="nav-link" [routerLink]="['/home/contatos']">
          <i class="fas fa-id-card"></i>
        </a>
      </li>


    <li class="nav-item">
      <div class="btn-group" dropdown>
        <button dropdownToggle type="button" class="nav-link">
          <i class="fas fa-user-circle"></i>
        </button>
        <ul *dropdownMenu class="dropdown-menu left">
          <li>
            <a class="dropdown-item" href="javascript:void(0)">
              <i class="fas fa-user"></i>
              <span>{{ userName | uppercase }} ({{ user.matricula }})</span>
            </a>
          </li>
          <li class="divider dropdown-divider"></li>
          <li>
            <a
              class="dropdown-item"
              href="javascript:void(0)"
              (click)="openModal(template)"
            >
              <i class="fas fa-key"></i>
              <span>Cambiar la contraseña</span>
            </a>
          </li>
          <li class="divider dropdown-divider"></li>
          <li>
            <a
              class="dropdown-item"
              href="javascript:void(0)"
              (click)="logout()"
            >
              <i class="fas fa-sign-out-alt"></i>
              <span>SAIR</span>
            </a>
          </li>
        </ul>
      </div>
    </li>
  </ul>
</nav>
<ng-template #template>
  <app-change-password-modal></app-change-password-modal>
</ng-template>
